{"version":3,"sources":["components/PersonForm.js","components/Persons.js","components/Filter.js","components/Error.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["PersonForm","handleForm","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Person","person","handleDeletePerson","name","number","Button","id","onClick","Persons","list","map","Filter","filter","handleFilter","Notification","message","style","color","fontSize","padding","marginBottom","borderWidth","borderStyle","borderColor","borderRadius","backgroundColor","baseUrl","axios","get","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","error","setError","notification","setNotification","useEffect","personsService","then","response","data","match","RegExp","Error","event","target","preventDefault","personMatch","find","alert","window","confirm","changedPerson","changedObject","setTimeout","catch","updateContact","length","concat","addContact","parseInt","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f34bcb5c.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = ({\n    handleForm,\n    newName,\n    handleNameChange,\n    newNumber,\n    handleNumberChange\n  }) => \n    <div>\n      <form onSubmit={handleForm}>\n          <div>\n            name: \n            <input \n              value={newName}\n              onChange={handleNameChange}\n            />\n          </div>\n          <div>number:\n            <input \n              value={newNumber}\n              onChange={handleNumberChange}\n            />\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n    </div>\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({list,handleDeletePerson}) => \n  <div>\n    {list.map((person) => \n      <Person key={person.id} person={person} handleDeletePerson={handleDeletePerson}/>)\n    }\n  </div>\n\nconst Person = ({person, handleDeletePerson}) => \n  <p>{person.name} {person.number} <Button person={person} handleDeletePerson={handleDeletePerson}/></p>\n\nconst Button = ({person, handleDeletePerson}) =>\n  <button type='button' value={person.id} onClick={handleDeletePerson}>delete</button>\n\nexport default Persons","import React from 'react'\n\nconst Filter = ({filter, handleFilter}) => \n  <div>\n    filter shown with\n    <input \n      value={filter}\n      onChange={handleFilter}\n    />\n  </div>\n\nexport default Filter","const Notification = ({ message }) => {\n  const notificationStyle = {\n    color: 'red',\n    fontSize: 20,\n    padding: 5,\n    marginBottom: 10,\n    borderWidth: 2,\n    borderStyle: 'solid',\n    borderColor: 'red',\n    borderRadius: 5,\n    backgroundColor: 'lightGray'\n  }\n\nif (message === null) {\n    return null\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\n\nexport default Notification","const Notification = ({ message }) => {\n  const notificationStyle = {\n    color: 'green',\n    fontSize: 20,\n    padding: 5,\n    marginBottom: 10,\n    borderWidth: 2,\n    borderStyle: 'solid',\n    borderColor: 'green',\n    borderRadius: 5,\n    backgroundColor: 'lightGray'\n  }\n\nif (message === null) {\n    return null\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n\n}\n\nconst del = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { \n  getAll, \n  create, \n  update,\n  del\n}","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport Error from './components/Error'\nimport Notification from './components/Notification'\nimport personsService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ error , setError ] = useState(null)\n  const [ notification , setNotification ] = useState(null)\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const saveContact = (event) => {\n    event.preventDefault()\n\n    const addContact = () => {\n      const newObject = {\n        id: persons.length + 1,\n        name: newName,\n        number: newNumber,\n      }\n\n      personsService\n      .create(newObject)\n      .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          setNotification(`Added ${response.data.name}`)\n          setTimeout(() => {\n            setNotification(null)\n          }, 3000)\n      })\n    }\n\n    const updateContact = (changedPerson) => {\n      const changedObject= {...changedPerson, number: newNumber}\n\n      personsService\n      .update(changedPerson.id, changedObject)\n      .then(response => {\n          setPersons(persons.map(person => person.id !==changedPerson.id ? person : response.data))\n          setNewName('')\n          setNewNumber('')\n          setNotification(`Updated ${response.data.name}`)\n          setTimeout(() => {\n            setNotification(null)\n          }, 3000)\n      })\n      .catch(error => {\n          setError(`Information of ${changedPerson.name} has already been removed from server`)\n          setPersons(persons.filter(person => person.id !== changedPerson.id))\n          setTimeout(() => {\n            setError(null)\n          }, 3000)\n      })\n    }  \n\n    const personMatch=persons.find(person => person.name===newName)\n    personMatch\n      ? (\n          personMatch.number===newNumber\n          ? alert(`${newName} is already added to phonebook`)\n          : (\n              window.confirm(`${newName} is already added to phonebook, replace the old number with the one?`)\n              && updateContact(personMatch)\n            )\n      )\n      : addContact()\n  }\n\n  const handleDeletePerson = (event) => {\n    const name = persons.filter(person => person.id===parseInt(event.target.value))[0].name\n    window.confirm(`Delete ${name}?`)\n    && (personsService\n      .del(event.target.value)\n      .then(response => {\n        setPersons(persons.filter(person => person.id !== parseInt(event.target.value) && person))\n        setNotification(`Deleted ${name}`)\n          setTimeout(() => {\n            setNotification(null)\n          }, 3000)\n      }))\n  }\n\n  const list = persons.filter(person => person.name.match(RegExp(filter,'i')))    \n  \n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {     \n     setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {     \n    setFilter(event.target.value)\n }\n\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Error message={error} />\n      <Notification message={notification} />\n\n      <Filter filter={filter} handleFilter={handleFilter} />\n      \n      <h3>Add new</h3>\n\n      <PersonForm\n        handleForm={saveContact}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n\n      <Persons list={list} handleDeletePerson={handleDeletePerson}/>\n\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n\n"],"sourceRoot":""}